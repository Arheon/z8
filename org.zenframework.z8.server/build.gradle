apply plugin: 'java'

configurations {
	boot
}

eclipse.classpath.file.whenMerged {
	entries.findAll { entry ->
		entry instanceof org.gradle.plugins.ide.eclipse.model.Container
	}.each { entry ->
		entry.accessRules.add new org.gradle.plugins.ide.eclipse.model.AccessRule('0', 'sun/rmi/**')
	}
}

tasks.withType(JavaCompile) {
	doFirst {
		String compilerPath = configurations.boot.singleFile.toPath()
		println 'QQQ ' + compilerPath
		options.compilerArgs.add '-Xbootclasspath/p:' + compilerPath
	}
}

dependencies {
	boot project(':org.zenframework.z8.boot')

	compile project(':org.zenframework.z8.boot')

	compile ('org.zenframework.z8.dependencies:z8-dependencies-commons:3.0@pom') { transitive=true }
	compile ('org.zenframework.z8.dependencies:z8-dependencies-libreoffice:3.0@pom') { transitive=true }
	compile ('org.zenframework.z8.dependencies:z8-dependencies-birt:3.0@pom') { transitive=true }
}
